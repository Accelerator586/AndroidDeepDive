<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="draw.io" version="22.0.0">
  <diagram name="Retrofit Request Flow" id="retrofit-request-flow">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="3000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- 标题 -->
        <mxCell id="title" value="Retrofit 完整请求执行流程" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="500" y="10" width="400" height="40" as="geometry" />
        </mxCell>
        
        <!-- 泳道 1: 用户代码 (开始) -->
        <mxCell id="lane1" value="用户代码" style="swimlane;horizontal=1;startSize=40;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1;swimlaneFillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="40" y="60" width="1320" height="140" as="geometry" />
        </mxCell>
        <mxCell id="step1" value="lifecycleScope.launch {&#xa;    val repos = service.listRepos(&quot;square&quot;)&#xa;}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;align=left;" vertex="1" parent="lane1">
          <mxGeometry x="80" y="60" width="300" height="60" as="geometry" />
        </mxCell>
        
        <!-- 泳道 2: Proxy.InvocationHandler -->
        <mxCell id="lane2" value="Proxy.InvocationHandler" style="swimlane;horizontal=1;startSize=40;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1;swimlaneFillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="40" y="200" width="1320" height="140" as="geometry" />
        </mxCell>
        <mxCell id="step2" value="invoke(proxy, method, args)&#xa;return loadServiceMethod(method).invoke(args)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;align=left;" vertex="1" parent="lane2">
          <mxGeometry x="80" y="60" width="320" height="60" as="geometry" />
        </mxCell>
        
        <!-- 泳道 3: Retrofit.loadServiceMethod() -->
        <mxCell id="lane3" value="Retrofit.loadServiceMethod()" style="swimlane;horizontal=1;startSize=40;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;swimlaneFillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="40" y="340" width="1320" height="200" as="geometry" />
        </mxCell>
        <mxCell id="step3" value="检查缓存&#xa;serviceMethodCache.get()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;" vertex="1" parent="lane3">
          <mxGeometry x="80" y="60" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="decision3" value="有缓存?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" vertex="1" parent="lane3">
          <mxGeometry x="270" y="50" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="step4" value="返回缓存" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;" vertex="1" parent="lane3">
          <mxGeometry x="270" y="150" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="step5" value="解析注解 (DCL双重检查锁)&#xa;synchronized(cache) {&#xa;  ServiceMethod.parseAnnotations()&#xa;  cache.put(method, result)&#xa;}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;" vertex="1" parent="lane3">
          <mxGeometry x="410" y="60" width="240" height="80" as="geometry" />
        </mxCell>
        
        <!-- 泳道 4: ServiceMethod.parseAnnotations() -->
        <mxCell id="lane4" value="ServiceMethod.parseAnnotations()" style="swimlane;horizontal=1;startSize=40;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1;swimlaneFillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="40" y="540" width="1320" height="240" as="geometry" />
        </mxCell>
        <mxCell id="step6" value="Step 1: 创建 RequestFactory&#xa;&#xa;解析内容：&#xa;• 方法注解: @GET, @POST&#xa;• URL: users/{user}/repos&#xa;• 参数: @Path, @Query, @Body" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;" vertex="1" parent="lane4">
          <mxGeometry x="80" y="60" width="220" height="120" as="geometry" />
        </mxCell>
        <mxCell id="step7" value="Step 2: 委托给&#xa;HttpServiceMethod.parseAnnotations(&#xa;  retrofit,&#xa;  method,&#xa;  requestFactory&#xa;)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;" vertex="1" parent="lane4">
          <mxGeometry x="340" y="60" width="280" height="120" as="geometry" />
        </mxCell>
        
        <!-- 泳道 5: HttpServiceMethod.parseAnnotations() -->
        <mxCell id="lane5" value="HttpServiceMethod.parseAnnotations()" style="swimlane;horizontal=1;startSize=40;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1;swimlaneFillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="40" y="780" width="1320" height="300" as="geometry" />
        </mxCell>
        <mxCell id="step8" value="Step 1: 判断 Kotlin suspend" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;" vertex="1" parent="lane5">
          <mxGeometry x="80" y="60" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="step9" value="Step 2: 获取 CallAdapter&#xa;&#xa;适配返回类型：&#xa;• Call&lt;T&gt; → ExecutorCallbackCall&#xa;• suspend fun → SuspendForResponse&#xa;• Observable&lt;T&gt; → RxJava2CallAdapter" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;" vertex="1" parent="lane5">
          <mxGeometry x="80" y="130" width="260" height="110" as="geometry" />
        </mxCell>
        <mxCell id="step10" value="Step 3: 获取 Converter&#xa;&#xa;响应数据转换：&#xa;• JSON → Gson/Moshi/Jackson&#xa;• XML → SimpleXML&#xa;• Protobuf → Wire" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;" vertex="1" parent="lane5">
          <mxGeometry x="380" y="130" width="240" height="110" as="geometry" />
        </mxCell>
        <mxCell id="step11" value="Step 4: 创建&#xa;HttpServiceMethod 实例" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;" vertex="1" parent="lane5">
          <mxGeometry x="660" y="160" width="180" height="60" as="geometry" />
        </mxCell>
        
        <!-- 泳道 6: HttpServiceMethod.invoke() -->
        <mxCell id="lane6" value="HttpServiceMethod.invoke()" style="swimlane;horizontal=1;startSize=40;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1;swimlaneFillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="40" y="1080" width="1320" height="180" as="geometry" />
        </mxCell>
        <mxCell id="step12" value="Step 1: 创建 OkHttpCall&#xa;OkHttpCall&lt;ResponseT&gt; call =&#xa;  new OkHttpCall&lt;&gt;(&#xa;    requestFactory,&#xa;    args,&#xa;    callFactory,&#xa;    responseConverter&#xa;  )" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;" vertex="1" parent="lane6">
          <mxGeometry x="80" y="60" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="step13" value="Step 2: CallAdapter 适配&#xa;return callAdapter.adapt(call)&#xa;&#xa;• 协程：挂起执行&#xa;• Call：返回 Call 对象" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;" vertex="1" parent="lane6">
          <mxGeometry x="360" y="60" width="220" height="100" as="geometry" />
        </mxCell>
        
        <!-- 泳道 7: OkHttpCall.execute() -->
        <mxCell id="lane7" value="OkHttpCall.execute() / enqueue()" style="swimlane;horizontal=1;startSize=40;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;swimlaneFillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="40" y="1260" width="1320" height="200" as="geometry" />
        </mxCell>
        <mxCell id="step14" value="Step 1: 创建 Request&#xa;requestFactory.create(args)&#xa;&#xa;内容：&#xa;• URL: api.github.com/users/square/repos&#xa;• Method: GET&#xa;• Headers: Accept, User-Agent" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;" vertex="1" parent="lane7">
          <mxGeometry x="80" y="60" width="280" height="120" as="geometry" />
        </mxCell>
        <mxCell id="step15" value="Step 2: OkHttp 执行&#xa;okhttp3.Call rawCall =&#xa;  callFactory.newCall(request)&#xa;&#xa;rawResponse = rawCall.execute()&#xa;或 rawCall.enqueue(callback)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;" vertex="1" parent="lane7">
          <mxGeometry x="400" y="60" width="260" height="120" as="geometry" />
        </mxCell>
        
        <!-- 泳道 8: OkHttp 网络请求 -->
        <mxCell id="lane8" value="OkHttp 执行网络请求" style="swimlane;horizontal=1;startSize=40;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1;swimlaneFillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="40" y="1460" width="1320" height="180" as="geometry" />
        </mxCell>
        <mxCell id="step16" value="拦截器链&#xa;Interceptors" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;" vertex="1" parent="lane8">
          <mxGeometry x="80" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="step17" value="连接池&#xa;ConnectionPool" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;" vertex="1" parent="lane8">
          <mxGeometry x="240" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="step18" value="Socket 通信&#xa;HTTP/HTTPS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;" vertex="1" parent="lane8">
          <mxGeometry x="400" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="step19" value="okhttp3.Response&#xa;• code: 200&#xa;• body: JSON" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;" vertex="1" parent="lane8">
          <mxGeometry x="560" y="60" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- 泳道 9: OkHttpCall.parseResponse() -->
        <mxCell id="lane9" value="OkHttpCall.parseResponse()" style="swimlane;horizontal=1;startSize=40;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1;swimlaneFillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="40" y="1640" width="1320" height="220" as="geometry" />
        </mxCell>
        <mxCell id="step20" value="Step 1: 检查状态码&#xa;int code = rawResponse.code()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;" vertex="1" parent="lane9">
          <mxGeometry x="80" y="60" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="decision9" value="2xx?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" vertex="1" parent="lane9">
          <mxGeometry x="300" y="50" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="step21" value="返回错误&#xa;Response.error()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;" vertex="1" parent="lane9">
          <mxGeometry x="280" y="150" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="step22" value="Step 2: 转换响应&#xa;T result = responseConverter.convert(body)&#xa;&#xa;GsonConverter:&#xa;• 读取 JSON 字符串&#xa;• Gson 解析&#xa;• 返回 List&lt;Repo&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;align=left;" vertex="1" parent="lane9">
          <mxGeometry x="440" y="60" width="260" height="120" as="geometry" />
        </mxCell>
        
        <!-- 泳道 10: CallAdapter 处理 -->
        <mxCell id="lane10" value="CallAdapter 处理返回值" style="swimlane;horizontal=1;startSize=40;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1;swimlaneFillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="40" y="1860" width="1320" height="200" as="geometry" />
        </mxCell>
        <mxCell id="step23" value="suspend 函数（协程）：&#xa;• SuspendForResponse&#xa;• 直接返回 List&lt;Repo&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;align=left;" vertex="1" parent="lane10">
          <mxGeometry x="80" y="60" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="step24" value="Call&lt;T&gt;：&#xa;• ExecutorCallbackCall&#xa;• 返回 Call&lt;List&lt;Repo&gt;&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;align=left;" vertex="1" parent="lane10">
          <mxGeometry x="320" y="60" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="step25" value="Observable&lt;T&gt; (RxJava)：&#xa;• RxJava2CallAdapter&#xa;• 返回 Observable&lt;List&lt;Repo&gt;&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;" vertex="1" parent="lane10">
          <mxGeometry x="560" y="60" width="240" height="80" as="geometry" />
        </mxCell>
        
        <!-- 泳道 11: 用户代码 (结束) -->
        <mxCell id="lane11" value="用户代码" style="swimlane;horizontal=1;startSize=40;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1;swimlaneFillColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="40" y="2060" width="1320" height="160" as="geometry" />
        </mxCell>
        <mxCell id="step26" value="val repos: List&lt;Repo&gt; = service.listRepos(&quot;square&quot;)&#xa;&#xa;// 显示结果&#xa;repos.forEach { repo -&gt;&#xa;    println(repo.name)&#xa;}" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1;align=left;" vertex="1" parent="lane11">
          <mxGeometry x="80" y="60" width="380" height="80" as="geometry" />
        </mxCell>
        
        <!-- ==================== 连接线 ==================== -->
        
        <!-- 用户代码 -> InvocationHandler -->
        <mxCell id="arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#6c8ebf;" edge="1" parent="1" source="step1" target="step2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- InvocationHandler -> loadServiceMethod -->
        <mxCell id="arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#b85450;" edge="1" parent="1" source="step2" target="step3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- 检查缓存 -> 决策 -->
        <mxCell id="arrow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeWidth=2;strokeColor=#82b366;" edge="1" parent="1" source="step3" target="decision3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- 决策 -> 返回缓存 (Yes) -->
        <mxCell id="arrow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#82b366;" edge="1" parent="1" source="decision3" target="step4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label1" value="有缓存" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=11;fontColor=#82b366;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="310" y="460" width="60" height="20" as="geometry" />
        </mxCell>
        
        <!-- 决策 -> 解析注解 (No) -->
        <mxCell id="arrow5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeWidth=2;strokeColor=#d79b00;" edge="1" parent="1" source="decision3" target="step5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label2" value="无缓存" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=11;fontColor=#d79b00;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="375" y="410" width="60" height="20" as="geometry" />
        </mxCell>
        
        <!-- 解析注解 -> ServiceMethod -->
        <mxCell id="arrow6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#82b366;" edge="1" parent="1" source="step5" target="step6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- ServiceMethod 内部 -->
        <mxCell id="arrow7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeWidth=2;strokeColor=#9673a6;" edge="1" parent="1" source="step6" target="step7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- ServiceMethod -> HttpServiceMethod -->
        <mxCell id="arrow8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#9673a6;" edge="1" parent="1" source="step7" target="step8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- HttpServiceMethod 内部流程 -->
        <mxCell id="arrow9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#6c8ebf;" edge="1" parent="1" source="step8" target="step9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeWidth=2;strokeColor=#6c8ebf;" edge="1" parent="1" source="step9" target="step10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeWidth=2;strokeColor=#6c8ebf;" edge="1" parent="1" source="step10" target="step11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- HttpServiceMethod -> invoke -->
        <mxCell id="arrow12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#6c8ebf;" edge="1" parent="1" source="step11" target="step12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- invoke 内部 -->
        <mxCell id="arrow13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeWidth=2;strokeColor=#b85450;" edge="1" parent="1" source="step12" target="step13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- invoke -> OkHttpCall -->
        <mxCell id="arrow14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#b85450;" edge="1" parent="1" source="step13" target="step14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- OkHttpCall 内部 -->
        <mxCell id="arrow15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeWidth=2;strokeColor=#82b366;" edge="1" parent="1" source="step14" target="step15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- OkHttpCall -> OkHttp网络 -->
        <mxCell id="arrow16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#82b366;" edge="1" parent="1" source="step15" target="step16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- OkHttp 网络请求内部流程 -->
        <mxCell id="arrow17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeWidth=2;strokeColor=#9673a6;" edge="1" parent="1" source="step16" target="step17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeWidth=2;strokeColor=#9673a6;" edge="1" parent="1" source="step17" target="step18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="arrow19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeWidth=2;strokeColor=#9673a6;" edge="1" parent="1" source="step18" target="step19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- OkHttp网络 -> parseResponse -->
        <mxCell id="arrow20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#9673a6;" edge="1" parent="1" source="step19" target="step20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- parseResponse 内部 -->
        <mxCell id="arrow21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeWidth=2;strokeColor=#6c8ebf;" edge="1" parent="1" source="step20" target="decision9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- 决策 -> 错误 -->
        <mxCell id="arrow22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#b85450;" edge="1" parent="1" source="decision9" target="step21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label3" value="非2xx" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=11;fontColor=#b85450;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="325" y="1760" width="50" height="20" as="geometry" />
        </mxCell>
        
        <!-- 决策 -> 转换 -->
        <mxCell id="arrow23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeWidth=2;strokeColor=#82b366;" edge="1" parent="1" source="decision9" target="step22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label4" value="2xx" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=11;fontColor=#82b366;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="395" y="1710" width="35" height="20" as="geometry" />
        </mxCell>
        
        <!-- parseResponse -> CallAdapter -->
        <mxCell id="arrow24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#82b366;" edge="1" parent="1" source="step22" target="step23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- CallAdapter -> 用户代码 -->
        <mxCell id="arrow25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeWidth=2;strokeColor=#6c8ebf;" edge="1" parent="1" source="step23" target="step26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
